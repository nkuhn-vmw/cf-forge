applications:
  - name: cf-forge-agent
    memory: 2G
    instances: 1
    buildpack: java_buildpack_offline
    path: target/cf-forge-agent-0.1.0-SNAPSHOT.jar
    health-check-type: http
    health-check-http-endpoint: /actuator/health
    log-rate-limit-per-second: -1
    env:
      JBP_CONFIG_OPEN_JDK_JRE: '{ jre: { version: 21.+ } }'
      SPRING_PROFILES_ACTIVE: cloud
      CFFORGE_CF_API_URL: https://api.sys.tas-ndc.kuhn-labs.com
      CFFORGE_WORKSPACE_URL: https://cf-forge-workspace.apps.tas-ndc.kuhn-labs.com
      CFFORGE_MCP_API_KEY: af727dfd7aa29596b1fa356de7088118f628e3749bad605d
    services:
      - cf-forge-db
      - cf-forge-mq
      - cf-forge-genai
    routes:
      - route: cf-forge-agent.apps.internal
      - route: cf-forge-mcp.apps.tas-ndc.kuhn-labs.com
